import React from 'react';
import { LayerProvider, studioTheme, ThemeProvider, ToastProvider } from '@sanity/ui';
import { SourceProvider, WorkspaceProvider } from '../../src/studio';
import { ResourceCacheProvider } from '../../src/datastores/ResourceCacheProvider';
import { getMockWorkspace } from './getMockWorkspaceFromConfig';
export async function createTestProvider({ client, config } = {}) {
    const workspace = await getMockWorkspace({ client, config });
    function TestProvider({ children }) {
        return (React.createElement(ThemeProvider, { theme: studioTheme },
            React.createElement(ToastProvider, null,
                React.createElement(LayerProvider, null,
                    React.createElement(WorkspaceProvider, { workspace: workspace },
                        React.createElement(SourceProvider, { source: workspace.unstable_sources[0] },
                            React.createElement(ResourceCacheProvider, null, children)))))));
    }
    return TestProvider;
}
//# sourceMappingURL=TestProvider.js.map