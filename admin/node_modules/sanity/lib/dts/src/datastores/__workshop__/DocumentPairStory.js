import { Box, Button, Code, Text } from '@sanity/ui';
import React, { useEffect, useState } from 'react';
import { useDocumentStore } from '../datastores';
export default function DocumentPairStory() {
    const documentStore = useDocumentStore();
    const [draftSnapshot, setDraftSnapshot] = useState(null);
    const [publishedSnapshot, setPublishedSnapshot] = useState(null);
    useEffect(() => {
        const { draft, published } = documentStore.checkoutPair({
            draftId: 'drafts.test',
            publishedId: 'test',
        });
        const draftSub = draft.remoteSnapshot$.subscribe(setDraftSnapshot);
        const publishedSub = published.remoteSnapshot$.subscribe(setPublishedSnapshot);
        return () => {
            draftSub.unsubscribe();
            publishedSub.unsubscribe();
        };
    }, [documentStore]);
    return (React.createElement(Box, { padding: 4 },
        React.createElement(Text, { size: 1, weight: "semibold" },
            React.createElement("code", null, `documentStore.checkoutPair({draftId: string, publishedId: string})`)),
        React.createElement(Box, { hidden: true },
            React.createElement(Button, { text: "Subscribe" })),
        React.createElement(Box, { marginTop: 3 },
            React.createElement(Code, { language: "json", size: 1 }, JSON.stringify({ draft: { snapshot: draftSnapshot }, published: { snapshot: publishedSnapshot } }, null, 2)))));
}
//# sourceMappingURL=DocumentPairStory.js.map