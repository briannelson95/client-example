import { isKeySegment } from '@sanity/types';
export function setAtPath(currentTree, path, value) {
    if (path.length === 0) {
        return { ...(currentTree || {}), value };
    }
    const [head, ...tail] = path;
    const key = isKeySegment(head) ? head._key : String(head);
    const children = currentTree?.children ?? {};
    return {
        value: currentTree?.value,
        children: { ...children, [key]: setAtPath(children[key] || {}, tail, value) },
    };
}
//# sourceMappingURL=stateTreeHelper.js.map