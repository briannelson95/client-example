import React from 'react';
import { tap } from 'rxjs/operators';
export const WithIntersection = (props) => {
    const { onIntersection, io, id, ...rest } = props;
    const element = React.useRef(null);
    React.useEffect(() => {
        const el = element.current;
        if (!el)
            return undefined;
        const subscription = io
            .observe(el)
            .pipe(tap((entry) => onIntersection(id, entry)))
            .subscribe();
        return () => subscription.unsubscribe();
    }, [io, id, onIntersection]);
    return React.createElement("div", { ref: element, ...rest });
};
//# sourceMappingURL=WithIntersection.js.map