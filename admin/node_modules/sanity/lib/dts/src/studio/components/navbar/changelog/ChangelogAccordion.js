import { ToggleArrowRightIcon } from '@sanity/icons';
import { Card, Stack, Button, Text, Code, Box } from '@sanity/ui';
import React, { useCallback, useState } from 'react';
import styled from 'styled-components';
const COMMANDS = ['npm i @sanity/cli -g', 'sanity upgrade'];
const Icon = styled(ToggleArrowRightIcon) `
  &[data-rotate='true'] {
    transform: rotate(90deg);
  }
`;
export function ChangelogAccordion(props) {
    const { defaultOpen } = props;
    const [open, setOpen] = useState(defaultOpen);
    const handleClick = useCallback(() => setOpen((v) => !v), []);
    return (React.createElement(Card, { overflow: "hidden" },
        React.createElement(Stack, null,
            React.createElement(Button, { "aria-controls": "upgrade-commands", icon: React.createElement(Icon, { "data-rotate": open }), justify: "flex-start", mode: "bleed", onClick: handleClick, padding: 4, radius: 0, space: 2, text: "How to upgrade" })),
        React.createElement(Card, { "aria-hidden": !open, hidden: !open, id: "upgrade-commands", overflow: "auto", paddingX: 4, paddingY: 2, role: "region", tone: "inherit" },
            React.createElement(Stack, { space: 2 },
                React.createElement(Card, { tone: "transparent", padding: 3, radius: 2 },
                    React.createElement(Stack, { space: 3 },
                        React.createElement(Code, { language: "bash", size: 1 }, [`# Run these commands to upgrade`, ...COMMANDS].join('\n')))),
                React.createElement(Box, { paddingX: 2, paddingY: 3 },
                    React.createElement(Text, { size: 1, muted: true },
                        "If you have problems upgrading, please get in touch with us in the",
                        ' ',
                        React.createElement("a", { href: "https://slack.sanity.io/", rel: "noopener noreferrer", target: "_blank" }, "Sanity Community"),
                        "."))))));
}
//# sourceMappingURL=ChangelogAccordion.js.map