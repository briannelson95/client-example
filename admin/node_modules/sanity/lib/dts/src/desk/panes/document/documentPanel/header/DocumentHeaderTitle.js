import React from 'react';
import { useDocumentPane } from '../../useDocumentPane';
import { unstable_useDocumentPreview as useDocumentPreview } from '../../../../../preview';
export function DocumentHeaderTitle() {
    const { connectionState, schemaType, title, value: documentValue } = useDocumentPane();
    const subscribed = Boolean(documentValue) && connectionState === 'connected';
    const { error, value } = useDocumentPreview({
        enabled: subscribed,
        schemaType,
        value: documentValue,
    });
    if (connectionState !== 'connected') {
        return React.createElement(React.Fragment, null);
    }
    if (!documentValue) {
        return React.createElement(React.Fragment, null,
            "New ",
            schemaType?.title || schemaType?.name);
    }
    if (subscribed) {
        if (error) {
            return React.createElement(React.Fragment, null,
                "Error: ",
                error.message);
        }
        return (React.createElement(React.Fragment, null, value?.title || React.createElement("span", { style: { color: 'var(--card-muted-fg-color)' } }, "Untitled")));
    }
    return React.createElement(React.Fragment, null, title);
}
//# sourceMappingURL=DocumentHeaderTitle.js.map