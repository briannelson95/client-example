import { useState, useEffect } from 'react';
import { useDocumentPreviewStore } from '../../../datastores';
export function useRefPreview(value, schemaType) {
    const documentPreviewStore = useDocumentPreviewStore();
    const [preview, setPreview] = useState(undefined);
    useEffect(() => {
        let subscription;
        if (value) {
            subscription = documentPreviewStore
                .observeForPreview(value, schemaType)
                .subscribe((result) => setPreview(result.snapshot));
        }
        return () => {
            if (subscription) {
                subscription.unsubscribe();
            }
        };
    }, [documentPreviewStore, value, schemaType]);
    return value ? preview : undefined;
}
//# sourceMappingURL=useRefPreview.js.map