import { Box, Card, Code, Container, Flex, Stack, Text } from '@sanity/ui';
import { useBoolean, useNumber, useString } from '@sanity/ui-workshop';
import React from 'react';
import { useSchema } from '../../hooks';
import { SanityPreview } from '../../preview';
import { useDocumentSearchResults } from '../useDocumentSearchResults';
export default function DevStory() {
    const schema = useSchema();
    const includeDrafts = useBoolean('Include drafts', true);
    const query = useString('Query', 'grrm', 'Props') ?? '';
    const limit = useNumber('Limit', 10, 'Props') || 1;
    const results = useDocumentSearchResults({ includeDrafts, limit, query });
    return (React.createElement(Box, { padding: 4 },
        React.createElement(Container, { width: 1 },
            React.createElement(Stack, { space: 2 }, results.value.map((result) => {
                const type = schema.get(result.hit._type);
                if (!type) {
                    return (React.createElement(Card, { border: true, key: result.hit._id, padding: 3, tone: "critical" },
                        React.createElement(Text, { size: 1 },
                            "Unknown type: ",
                            React.createElement("code", null, result.hit._type))));
                }
                return (React.createElement(Card, { border: true, key: result.hit._id },
                    React.createElement(Box, { padding: 2 },
                        React.createElement(SanityPreview, { schemaType: type, value: {
                                _type: result.hit._type,
                                _id: result.hit._id,
                            } })),
                    React.createElement(Card, { tone: "transparent" },
                        React.createElement(Flex, { padding: 3 },
                            React.createElement(Box, { flex: 1 },
                                React.createElement(Code, { size: 1 }, result.hit._id)),
                            React.createElement(Code, { size: 1 }, result.score.toFixed(2))))));
            })))));
}
//# sourceMappingURL=DevStory.js.map