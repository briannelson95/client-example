import { Box, Flex, rem, Stack, Text } from '@sanity/ui';
import React from 'react';
import styled from 'styled-components';
import { getDevicePixelRatio } from 'use-device-pixel-ratio';
import { Media } from '../_common/Media';
import { PREVIEW_MEDIA_SIZE } from '../constants';
import { renderPreviewNode } from '../helpers';
const DEFAULT_MEDIA_DIMENSIONS = {
    ...PREVIEW_MEDIA_SIZE.block,
    aspect: 1,
    fit: 'crop',
    dpr: getDevicePixelRatio(),
};
const HeaderFlex = styled(Flex).attrs({ align: 'center' }) `
  min-height: ${rem(PREVIEW_MEDIA_SIZE.block.height)};
`;
export function BlockPreview(props) {
    const { actions, title, subtitle, description, mediaDimensions = DEFAULT_MEDIA_DIMENSIONS, media, status, children, } = props;
    return (React.createElement(Stack, { "data-testid": "block-preview", space: 1 },
        React.createElement(HeaderFlex, { "data-testid": "block-preview__header" },
            media && React.createElement(Media, { dimensions: mediaDimensions, layout: "block", media: media }),
            React.createElement(Box, { flex: 1, paddingLeft: media ? 2 : 1 },
                React.createElement(Text, { size: 1, textOverflow: "ellipsis", weight: "semibold" },
                    title && renderPreviewNode(title, 'block'),
                    !title && React.createElement(React.Fragment, null, "Untitled")),
                subtitle && (React.createElement(Box, { marginTop: 2 },
                    React.createElement(Text, { muted: true, size: 1, textOverflow: "ellipsis" }, renderPreviewNode(subtitle, 'block')))),
                description && (React.createElement(Box, { marginTop: 3 },
                    React.createElement(Text, { muted: true, size: 1, textOverflow: "ellipsis" }, renderPreviewNode(description, 'block'))))),
            React.createElement(Flex, { gap: 1, paddingLeft: 1 },
                status && (React.createElement(Box, { paddingX: 2, paddingY: 3 }, renderPreviewNode(status, 'block'))),
                actions)),
        children && React.createElement("div", { "data-testid": "block-preview__children" }, children)));
}
//# sourceMappingURL=BlockPreview.js.map