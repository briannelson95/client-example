import { AccessDeniedIcon } from '@sanity/icons';
import { Text, Inline, Box } from '@sanity/ui';
import React from 'react';
export function InsufficientPermissionsMessage(props) {
    const { currentUser, title = 'Insufficient permissions', operationLabel = 'access this feature', } = props;
    const roles = currentUser?.roles || [];
    const plural = roles.length !== 1;
    return (React.createElement(Box, { padding: 2 },
        React.createElement(Inline, { space: 2 },
            React.createElement(Text, { size: 1 },
                React.createElement(AccessDeniedIcon, null)),
            React.createElement(Text, { weight: "semibold" }, title)),
        React.createElement(Inline, { marginTop: 4 },
            React.createElement(Text, { size: 1 }, roles.length === 0 ? (React.createElement(React.Fragment, null,
                "You have no role that grants you permission to ",
                operationLabel)) : (React.createElement(React.Fragment, null,
                "Your role",
                plural && 's',
                ' ',
                join(roles.map((r) => React.createElement("code", { key: r.name }, r.title)), React.createElement(React.Fragment, null, ", ")),
                ' ',
                "do",
                plural || 'es',
                " not have permissions to ",
                operationLabel))))));
}
function join(array, sep) {
    return array.reduce((result, item) => (result === null ? [item] : [...result, sep, item]), null);
}
//# sourceMappingURL=InsufficientPermissionsMessage.js.map