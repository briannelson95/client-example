import { normalizeBlock } from '@sanity/block-tools';
import { set } from '../../../patch';
export function createSetCallback(options) {
  const {
    allowedDecorators,
    block,
    onChange
  } = options;
  return givenBlock => {
    const patches = [set(normalizeBlock(givenBlock, {
      allowedDecorators
    }), [{
      _key: block._key
    }])];
    return onChange(patches);
  };
}