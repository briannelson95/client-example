import { usePortableTextEditor } from '@sanity/portable-text-editor';
import { useMemo } from 'react';
export function useSpellcheck() {
  const editor = usePortableTextEditor();
  return useMemo(() => {
    var _editor$portableTextF;

    // Chrome 96. has serious perf. issues with spellchecking
    // https://bugs.chromium.org/p/chromium/issues/detail?id=1271918
    // This issue is verified fixed in Chrome 97.
    const spellCheckOption = (_editor$portableTextF = editor.portableTextFeatures.types.block.options) === null || _editor$portableTextF === void 0 ? void 0 : _editor$portableTextF.spellCheck;
    const isChrome96 = typeof navigator === 'undefined' ? false : /Chrome\/96/.test(navigator.userAgent);
    return spellCheckOption === undefined && isChrome96 === true ? false : spellCheckOption;
  }, [editor]);
}