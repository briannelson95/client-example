import { merge } from 'rxjs';
import { switchMap } from 'rxjs/operators';
import { memoize } from '../utils/createMemoizer';
import { memoizedPair } from './memoizedPair';
export const remoteSnapshots = memoize((client, idPair, typeName) => {
  return memoizedPair(client, idPair, typeName).pipe(switchMap(_ref => {
    let {
      published,
      draft
    } = _ref;
    return merge(published.remoteSnapshot$, draft.remoteSnapshot$);
  }));
}, (_client, idPair, typeName) => idPair.publishedId + typeName);