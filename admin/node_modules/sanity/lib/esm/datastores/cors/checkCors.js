export const checkCors = client => {
  const pingRequest = client.request({
    uri: '/ping',
    withCredentials: false
  }).then(() => true);
  const userRequest = client.request({
    uri: '/users/me',
    withCredentials: false
  }).then(() => true).catch(() => false);
  const promise = Promise.all([pingRequest, userRequest]).then(_ref => {
    let [pingResponded, userResponded] = _ref;
    return {
      isCorsError: pingResponded && !userResponded,
      pingResponded: pingResponded
    };
  });
  return promise;
};