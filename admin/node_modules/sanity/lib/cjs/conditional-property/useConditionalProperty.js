"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.unstable_useConditionalProperty = void 0;

var _datastores = require("../datastores");

var _useUnique = require("../util/useUnique");

var _utils = require("./utils");

/**
 * Resolve a callback function to a boolean using the passed arguments
 *
 * @internal Not yet a stable API
 */
const useConditionalProperty = props => {
  const {
    checkProperty = false,
    checkPropertyKey,
    document,
    parent,
    value: valueProp
  } = props;
  const value = (0, _useUnique.useUnique)(valueProp);
  const currentUser = (0, _datastores.useCurrentUser)();
  const isPropertyTruthy = (0, _utils.useCheckCondition)(checkProperty, checkPropertyKey, {
    currentUser,
    document,
    parent,
    value
  });
  return isPropertyTruthy;
};

exports.unstable_useConditionalProperty = useConditionalProperty;