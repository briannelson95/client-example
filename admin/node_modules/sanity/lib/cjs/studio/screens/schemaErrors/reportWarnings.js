"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.reportWarnings = reportWarnings;

var _utils = require("./utils");

function reportWarnings(schema) {
  /* eslint-disable no-console */
  const problemGroups = schema._validation;
  const groupsWithWarnings = problemGroups === null || problemGroups === void 0 ? void 0 : problemGroups.filter(group => group.problems.some(problem => problem.severity === 'warning'));

  if ((groupsWithWarnings === null || groupsWithWarnings === void 0 ? void 0 : groupsWithWarnings.length) === 0) {
    return;
  }

  console.groupCollapsed("\u26A0\uFE0F Schema has ".concat(groupsWithWarnings === null || groupsWithWarnings === void 0 ? void 0 : groupsWithWarnings.length, " warnings"));
  groupsWithWarnings === null || groupsWithWarnings === void 0 ? void 0 : groupsWithWarnings.forEach(group => {
    const path = (0, _utils.renderPath)(group.path);
    console.group("%cAt ".concat(path), 'color: #FF7636');
    group.problems.forEach(problem => {
      console.log(problem.message);
    });
    console.groupEnd();
  });
  console.groupEnd();
  /* eslint-enable no-console */
}