"use strict";

var _types = require("@sanity/types");

var _react = _interopRequireDefault(require("react"));

var _form = require("../../../test/form");

var _NumberInput = require("./NumberInput");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const defs = {
  num: (0, _types.defineType)({
    name: 'num',
    title: 'Number',
    type: 'number'
  })
};
describe('NumberInput', () => {
  it('renders the number input field', async () => {
    const {
      result
    } = await (0, _form.renderNumberInput)({
      fieldDefinition: defs.num,
      render: inputProps => /*#__PURE__*/_react.default.createElement(_NumberInput.NumberInput, inputProps)
    });
    const input = result.container.querySelector('input');
    expect(input).toBeDefined();
    expect(input).toHaveAttribute('type', 'number');
  });
  it('accepts decimals by default', async () => {
    const {
      result
    } = await (0, _form.renderNumberInput)({
      fieldDefinition: defs.num,
      render: inputProps => /*#__PURE__*/_react.default.createElement(_NumberInput.NumberInput, inputProps)
    });
    const input = result.container.querySelector('input');
    input.value = '1.2';
    expect(input.value).toBe('1.2');
    expect(input.checkValidity()).toBe(true);
  });
});