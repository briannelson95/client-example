"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createPatchChannel = createPatchChannel;

/**
 * @internal
 */

/**
 * @internal
 */

/**
 * @internal
 */

/**
 * @internal
 */

/**
 * @internal
 */

/**
 * @internal
 */
function createPatchChannel() {
  const _subscribers = [];
  return {
    publish(msg) {
      for (const subscriber of _subscribers) {
        subscriber(msg);
      }
    },

    subscribe(subscriber) {
      _subscribers.push(subscriber);

      return () => {
        const idx = _subscribers.indexOf(subscriber);

        if (idx > -1) {
          _subscribers.splice(idx, 1);
        }
      };
    }

  };
}