"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.discardChanges = void 0;
const discardChanges = {
  disabled: _ref => {
    let {
      snapshots
    } = _ref;

    if (!snapshots.draft) {
      return 'NO_CHANGES';
    }

    if (!snapshots.published) {
      return 'NOT_PUBLISHED';
    }

    return false;
  },
  execute: _ref2 => {
    let {
      client,
      idPair
    } = _ref2;
    return client.observable.transaction().delete(idPair.draftId).commit({
      tag: 'document.discard-changes',
      visibility: 'async'
    });
  }
};
exports.discardChanges = discardChanges;