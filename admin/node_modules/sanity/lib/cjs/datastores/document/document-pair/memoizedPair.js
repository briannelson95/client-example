"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.memoizedPair = void 0;

var _rxjs = require("rxjs");

var _operators = require("rxjs/operators");

var _createMemoizer = require("../utils/createMemoizer");

var _checkoutPair = require("./checkoutPair");

const memoizedPair = (0, _createMemoizer.memoize)((client, idPair, _typeName) => {
  return new _rxjs.Observable(subscriber => {
    subscriber.next((0, _checkoutPair.checkoutPair)(client, idPair));
  }).pipe((0, _operators.publishReplay)(1), (0, _operators.refCount)());
}, (_client, idPair) => idPair.publishedId);
exports.memoizedPair = memoizedPair;