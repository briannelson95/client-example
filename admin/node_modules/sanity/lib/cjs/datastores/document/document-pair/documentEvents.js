"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.documentEvents = documentEvents;

var _rxjs = require("rxjs");

var _operators = require("rxjs/operators");

var _memoizedPair = require("./memoizedPair");

// A stream of all events related to either published or draft, each event comes with a 'target'
// that specifies which version (draft|published) the event is about
function documentEvents(client, idPair, typeName) {
  return (0, _memoizedPair.memoizedPair)(client, idPair).pipe((0, _operators.switchMap)(_ref => {
    let {
      draft,
      published
    } = _ref;
    return (0, _rxjs.merge)(draft.events, published.events);
  }));
}