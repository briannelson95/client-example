"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _oneline = _interopRequireDefault(require("oneline"));

var _createAliasHandler = require("./createAliasHandler");

var _deleteAliasHandler = require("./deleteAliasHandler");

var _unlinkAliasHandler = require("./unlinkAliasHandler");

var _linkAliasHandler = require("./linkAliasHandler");

var _templateObject;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

const helpText = "\nBelow are examples of the alias subcommand\n\nCreate Alias\n  sanity dataset alias create\n  sanity dataset alias create <alias-name>\n  sanity dataset alias create <alias-name> <target-dataset>\n\nDelete Alias\n  sanity dataset alias delete <alias-name>\n\nLink Alias\n  Options\n    --force Skips security prompt and forces link command\n\n  Usage\n    sanity dataset alias link\n    sanity dataset alias link <alias-name>\n    sanity dataset alias link <alias-name> <target-dataset>\n\nUn-link Alias\n  sanity dataset alias unlink\n  sanity dataset alias unlink <alias-name>\n";
const aliasCommand = {
  name: 'alias',
  group: 'dataset',
  signature: 'SUBCOMMAND [ALIAS_NAME, TARGET_DATASET]',
  helpText,
  description: 'You can manage your dataset alias using this command.',
  action: async (args, context) => {
    const [verb] = args.argsWithoutOptions;

    switch (verb) {
      case 'create':
        await (0, _createAliasHandler.createAliasHandler)(args, context);
        break;

      case 'delete':
        await (0, _deleteAliasHandler.deleteAliasHandler)(args, context);
        break;

      case 'unlink':
        await (0, _unlinkAliasHandler.unlinkAliasHandler)(args, context);
        break;

      case 'link':
        await (0, _linkAliasHandler.linkAliasHandler)(args, context);
        break;

      default:
        throw new Error((0, _oneline.default)(_templateObject || (_templateObject = _taggedTemplateLiteral(["\n          Invalid command provided. Available commands are: create, delete, link and unlink.\n          For more guide run the help command 'sanity dataset alias --help'\n        "]))));
    }
  }
};
var _default = aliasCommand;
exports.default = _default;