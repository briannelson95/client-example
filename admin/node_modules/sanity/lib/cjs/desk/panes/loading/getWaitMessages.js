"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getWaitMessages = getWaitMessages;

var _rxjs = require("rxjs");

var _operators = require("rxjs/operators");

var _environment = require("../../../environment");

/**
 * @internal
 */
function getWaitMessages(path) {
  const thresholds = [{
    ms: 300,
    message: 'Loading…'
  }, {
    ms: 5000,
    message: 'Still loading…'
  }];

  if (_environment.isDev) {
    const message = ['Check console for errors?', 'Is your observable/promise resolving?', path.length > 0 ? "Structure path: ".concat(path.join(' ➝ ')) : ''];
    thresholds.push({
      ms: 10000,
      message: message.join('\n')
    });
  }

  const src = (0, _rxjs.of)(null);
  return (0, _rxjs.merge)(...thresholds.map(_ref => {
    let {
      ms,
      message
    } = _ref;
    return src.pipe((0, _operators.mapTo)(message), (0, _operators.delay)(ms));
  }));
}