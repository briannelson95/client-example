"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useUserColor = useUserColor;
exports.useUserColorManager = useUserColorManager;

var _react = require("react");

var _rxjs = require("rxjs");

var _reactRx = require("react-rx");

var _context = require("./context");

function useUserColorManager() {
  const userColorManager = (0, _react.useContext)(_context.UserColorManagerContext);

  if (!userColorManager) {
    throw new Error('UserColorManager: missing context value');
  }

  return userColorManager;
}

function useUserColor(userId) {
  const manager = useUserColorManager();
  return (0, _reactRx.useMemoObservable)(userId ? manager.listen(userId) : (0, _rxjs.empty)(), [userId], manager.get(null));
}