import * as DMP from 'diff-match-patch';
export function setIfMissing(value, path = []) {
    return {
        type: 'setIfMissing',
        path,
        value,
    };
}
// eslint-disable-next-line new-cap
const dmp = new DMP.diff_match_patch();
export function diffMatchPatch(currentValue, nextValue, path = []) {
    const patch = dmp
        .patch_make(currentValue, nextValue)
        .map((_patch) => _patch.toString())
        .join('');
    return { type: 'diffMatchPatch', path, value: patch };
}
export function insert(items, position, path = []) {
    return {
        type: 'insert',
        path,
        position,
        items,
    };
}
export function set(value, path = []) {
    return { type: 'set', path, value };
}
export function unset(path = []) {
    return { type: 'unset', path };
}
export function prefixPath(patch, segment) {
    return {
        ...patch,
        path: [segment, ...patch.path],
    };
}
//# sourceMappingURL=patches.js.map