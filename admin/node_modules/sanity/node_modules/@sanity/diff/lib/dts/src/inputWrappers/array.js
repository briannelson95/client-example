import { wrap } from './index';
export default class ArrayWrapper {
    constructor(value, annotation) {
        this.type = 'array';
        this.elements = [];
        this.annotation = annotation;
        this.value = value;
        this.length = value.length;
    }
    at(idx) {
        if (idx >= this.length)
            throw new Error('out of bounds');
        const input = this.elements[idx];
        if (input) {
            return input;
        }
        return (this.elements[idx] = wrap(this.value[idx], this.annotation));
    }
    annotationAt() {
        return this.annotation;
    }
}
//# sourceMappingURL=array.js.map