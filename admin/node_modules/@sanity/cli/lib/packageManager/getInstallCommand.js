"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getInstallCommand = getInstallCommand;

var _packageManagerChoice = require("./packageManagerChoice");

async function getInstallCommand(options) {
  const {
    workDir,
    depType = 'prod',
    pkgNames
  } = options;
  const {
    chosen
  } = await (0, _packageManagerChoice.getPackageManagerChoice)(workDir, {
    interactive: false
  }); // eg `npm install`, `yarn install`, `pnpm install`

  if (!pkgNames || pkgNames.length === 0) {
    return "".concat(chosen, " install");
  }

  const pkgNameString = pkgNames.join(' ');

  if (chosen === 'yarn') {
    const flag = depType === 'dev' || depType === 'peer' ? " --".concat(depType) : '';
    return "yarn add ".concat(pkgNameString).concat(flag);
  } else if (chosen === 'pnpm') {
    return "pnpm add ".concat(pkgNameString, " --save-").concat(depType);
  }

  return "npm install ".concat(pkgNameString, " --save-").concat(depType);
}