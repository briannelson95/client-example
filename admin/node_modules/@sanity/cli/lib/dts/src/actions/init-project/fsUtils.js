import fs from 'fs';
import os from 'os';
import path from 'path';
export function validateEmptyPath(dir) {
    const checkPath = absolutify(dir);
    return pathIsEmpty(checkPath) ? true : 'Given path is not empty';
}
export function absolutify(dir) {
    const pathName = expandHome(dir);
    return path.isAbsolute(pathName) ? pathName : path.resolve(process.cwd(), pathName);
}
function pathIsEmpty(dir) {
    try {
        // eslint-disable-next-line no-sync
        const content = fs.readdirSync(dir);
        return content.length === 0;
    }
    catch (err) {
        if (err.code === 'ENOENT') {
            return true;
        }
        throw err;
    }
}
function expandHome(filePath) {
    if (filePath.charCodeAt(0) === 126 /* ~ */) {
        if (filePath.charCodeAt(1) === 43 /* + */) {
            return path.join(process.cwd(), filePath.slice(2));
        }
        const home = os.homedir();
        return home ? path.join(home, filePath.slice(1)) : filePath;
    }
    return filePath;
}
//# sourceMappingURL=fsUtils.js.map