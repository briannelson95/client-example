import latestVersion from 'get-latest-version';
import promiseProps from 'promise-props-recursive';
/**
 * Resolve the latest versions of given packages within their defined ranges
 *
 * @param pkgs - `{packageName: rangeOrTag}`
 * @returns Object of resolved version numbers
 */
export function resolveLatestVersions(pkgs) {
    const lookups = {};
    for (const [packageName, range] of Object.entries(pkgs)) {
        lookups[packageName] =
            range === 'latest' ? latestVersion(packageName, { range }).then(caretify) : range;
    }
    return promiseProps(lookups);
}
function caretify(version) {
    return `^${version}`;
}
//# sourceMappingURL=resolveLatestVersions.js.map