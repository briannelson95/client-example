"use strict";

var _worker_threads = require("worker_threads");

var _getCliConfig = require("./getCliConfig");

// We're communicating with a parent process through a message channel
(0, _getCliConfig.getCliConfig)(_worker_threads.workerData, {
  forked: false
}).then(config => _worker_threads.parentPort === null || _worker_threads.parentPort === void 0 ? void 0 : _worker_threads.parentPort.postMessage({
  type: 'config',
  config
})).catch(error => _worker_threads.parentPort === null || _worker_threads.parentPort === void 0 ? void 0 : _worker_threads.parentPort.postMessage({
  type: 'error',
  error: error instanceof Error ? error.stack : error,
  errorType: error && (error.type || error.name)
}));